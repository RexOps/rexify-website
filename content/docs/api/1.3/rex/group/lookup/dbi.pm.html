



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#EXPORTED-FUNCTIONS">EXPORTED FUNCTIONS</a>
    <ul>
      <li><a href="#groups_dbi-dsn-user-password-sql-">groups_dbi($dsn, $user, $password, $sql)</a></li>
      <li><a href="#Example:-groups_dbi-DBI:mysql:rex-host-db01-user-username-password-password-sql-SELECT-FROM-HOST-create_all_group-TRUE-">Example: groups_dbi( &#39;DBI:mysql:rex;host=db01&#39;, user =&gt; &#39;username&#39;, password =&gt; &#39;password&#39;, sql =&gt; &quot;SELECT * FROM HOST&quot;, create_all_group =&gt; TRUE);</a></li>
      <li><a href="#Database-sample-for-MySQL">Database sample for MySQL</a></li>
      <li><a href="#Data-sample-for-MySQL">Data sample for MySQL</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Rex::Group::Lookup::DBI - read hostnames and groups from a DBI source</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>With this module you can define hostgroups out of an DBI source.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code> use Rex::Group::Lookup::DBI;
 groups_dbi &quot;dsn&quot;, &quot;user&quot;, &quot;password&quot;, &quot;SQL request&quot;;</code></pre>

<h1 id="EXPORTED-FUNCTIONS">EXPORTED FUNCTIONS</h1>

<h2 id="groups_dbi-dsn-user-password-sql-">groups_dbi($dsn, $user, $password, $sql)</h2>

<pre><code> With this function you can read groups from DBI source.</code></pre>

<h2 id="Example:-groups_dbi-DBI:mysql:rex-host-db01-user-username-password-password-sql-SELECT-FROM-HOST-create_all_group-TRUE-">Example: groups_dbi( &#39;DBI:mysql:rex;host=db01&#39;, user =&gt; &#39;username&#39;, password =&gt; &#39;password&#39;, sql =&gt; &quot;SELECT * FROM HOST&quot;, create_all_group =&gt; TRUE);</h2>

<h2 id="Database-sample-for-MySQL">Database sample for MySQL</h2>

<pre><code> CREATE TABLE IF NOT EXISTS `HOST` (
   `ID` int(11) NOT NULL,
   `GROUP` varchar(255) DEFAULT NULL,
   `HOST` varchar(255) NOT NULL,
   PRIMARY KEY (`ID`)
 );</code></pre>

<h2 id="Data-sample-for-MySQL">Data sample for MySQL</h2>

<pre><code> INSERT INTO `HOST` (`ID`, `GROUP`, `HOST`) VALUES
   (1, &#39;db&#39;, &#39;db01&#39;),
   (2, &#39;db&#39;, &#39;db02&#39;),
   (3, &#39;was&#39;, &#39;was01&#39;),
   (4, &#39;was&#39;, &#39;was02&#39;);</code></pre>


