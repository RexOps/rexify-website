



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#EXPORTED-FUNCTIONS">EXPORTED FUNCTIONS</a>
    <ul>
      <li><a href="#db">db</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Rex::Commands::DB - Simple Database Access</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This module gives you simple access to a database. Currently <i>select</i>, <i>delete</i>, <i>insert</i> and <i>update</i> is supported.</p>

<p>Version &lt;= 1.0: All these functions will not be reported.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code> use Rex::Commands::DB {
                  dsn    =&gt; &quot;DBI:mysql:database=test;host=dbhost&quot;,
                  user    =&gt; &quot;username&quot;,
                  password =&gt; &quot;password&quot;,
                };
 
 task &quot;list&quot;, sub {
   my @data = db select =&gt; {
            fields =&gt; &quot;*&quot;,
            from  =&gt; &quot;table&quot;,
            where  =&gt; &quot;enabled=1&quot;,
          };
 
  db insert =&gt; &quot;table&quot;, {
           field1 =&gt; &quot;value1&quot;,
            field2 =&gt; &quot;value2&quot;,
            field3 =&gt; 5,
          };
 
  db update =&gt; &quot;table&quot;, {
              set =&gt; {
                field1 =&gt; &quot;newvalue&quot;,
                field2 =&gt; &quot;newvalue2&quot;,
              },
              where =&gt; &quot;id=5&quot;,
           };
 
  db delete =&gt; &quot;table&quot;, {
            where =&gt; &quot;id &lt; 5&quot;,
          };
 
 };</code></pre>

<h1 id="EXPORTED-FUNCTIONS">EXPORTED FUNCTIONS</h1>

<h2 id="db">db</h2>

<p>Do a database action.</p>

<pre><code> my @data = db select =&gt; {
          fields =&gt; &quot;*&quot;,
          from  =&gt; &quot;table&quot;,
          where  =&gt; &quot;host=&#39;myhost&#39;&quot;,
        };
 
 db insert =&gt; &quot;table&quot;, {
          field1 =&gt; &quot;value1&quot;,
          field2 =&gt; &quot;value2&quot;,
          field3 =&gt; 5,
        };
 
 db update =&gt; &quot;table&quot;, {
            set =&gt; {
              field1 =&gt; &quot;newvalue&quot;,
              field2 =&gt; &quot;newvalue2&quot;,
            },
            where =&gt; &quot;id=5&quot;,
         };
 
 db delete =&gt; &quot;table&quot;, {
          where =&gt; &quot;id &lt; 5&quot;,
        };</code></pre>


