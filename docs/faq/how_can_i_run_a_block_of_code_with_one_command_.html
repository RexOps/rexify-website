<p>You can use the ShellBlock module. This module can be installed by running:</p>
<pre>$ rexify --use Rex::Misc::ShellBlock</pre>
<p>Then, you can run your shell code remotely as:</p>
<pre><code class="perl">use Rex::Misc::ShellBlock;<br /><br /></code><code class="perl"></code><code class="perl">task "myexec", sub {<br /></code><code class="perl">&nbsp; shell_block &lt;&lt;EOF;<br /></code><code class="perl">&nbsp;&nbsp;&nbsp; echo "hi"<br /></code><code class="perl">EOF<br /></code><code class="perl">};</code></pre>
<p>See the linked documentation page for how to use this module with Perl, Python, or other languages.</p>