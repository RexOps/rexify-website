<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html prefix="og: http://ogp.me/ns#" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta content="text/html; charset=utf-8" http-equiv="content-type">

      <title>Release notes for 0.12</title>

      <meta content="Release notes for 0.12" property="og:title">
      <meta content="website" property="og:type">
      <meta content="https://www.rexify.org/docs/release_notes/0.12.html" property="og:url">
      <meta content="https://www.rexify.org/public/images/skin/rexify.org/open_graph.png" property="og:image">

      <meta content="width=1024, initial-scale=0.5" name="viewport">
      <link href="/public/images/skin/rexify.org/favicon.png" rel="shortcut icon">
      <link href="/public/css/skin/rexify.org/hs/tomorrow.css" rel="stylesheet">
      <link charset="utf-8" href="/public/css/skin/rexify.org/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
      <link charset="utf-8" href="/public/css/skin/rexify.org/default.css" media="screen" rel="stylesheet" type="text/css">
      <meta content="" name="description">
      <meta content="" name="keywords">

   </head>
   <body>

      <div id="page">

         <div class="top_div" id="top-div">
            <h1>(R)?ex <small>the friendly automation framework</small></h1>
            <div id="nav-div">
               
<div class="nav_links">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/get/index.html">Get Rex</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/care/index.html">Care</a>
      <ul class="dropdown_menu dropdown_care">
          <li><a href="/care/help__r__ex.html">Help (R)?ex</a></li>
          <li><a href="/care/help_people_in_need.html">Help people</a></li>
      </ul>
    </li>
    <li><a href="/support/index.html">Support</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/docs/index.html">Docs</a>
      <ul class="dropdown_menu dropdown_docs">
          <li><a href="/docs/faq/index.html">FAQ</a></li>
          <li><a href="/docs/guides/index.html">Guides</a></li>
          <li><a href="/docs/rex_book/index.html">Rex Book (work in progress)</a></li>
          <li><a href="/docs/release_notes/index.html">Release notes</a></li>
            <li class="divider"></li>
          <li><a href="https://metacpan.org/release/Rex">API</a></li>
      </ul>
    </li>
  </ul>
</div>

            </div>
            </div>
         </div>

         <div id="widgets_container">
            <div id="widgets">
               <h2>News</h2>
                   <p><b>2020-07-05</b><br>
                     <a href="/blog/2020/07/05/rex-1.12.0.html">Rex-1.12.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.12.0.html">Rex-1.12.0 release</a> is now <a href="https://metacpan.org/release/FERKI/Rex-1.12.0">available on CPAN</a>. It adds support for local rsync operations, improves tab completion for Bash and Zsh, and fixes related bugs. It also discontinues support for running Rex on Windows 7, Windows Server 2008 R2, and older versions since both mainstream and extended support has already ended for these products.</p>

                   <p><b>2020-06-09</b><br>
                     <a href="/blog/2020/06/09/rex-on-stackshare.html">Rex on StackShare</a></p><p>
                   </p><p></p><p>Thanks to the support from their amazing team, <a href="https://stackshare.io/rex">Rex is now listed on StackShare</a>.</p>

                   <p><b>2020-06-05</b><br>
                     <a href="/blog/2020/06/05/rex-1.11.0.html">Rex-1.11.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.11.0.html">Rex-1.11.0 release</a> is now <a href="https://metacpan.org/release/FERKI/Rex-1.11.0">available on CPAN</a>. It enhances the behaviour of sysctl and file management, fixes bugs about group management and OpenSSH connection options, and clarifies quite a bit of documentation.</p>

                   <p><b>2020-05-05</b><br>
                     <a href="/blog/2020/05/05/rex-1.10.0.html">Rex-1.10.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.10.0.html">Rex-1.10.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a> (<a href="https://metacpan.org/source/FERKI/Rex-1.10.0/ChangeLog">changelog</a>). Apart from documentation updates and bug fixes, it adds initial package glob support, and an <code>on_change</code> hook for the <code>mkdir</code> command.</p>

                   <p><b>2020-04-05</b><br>
                     <a href="/blog/2020/04/05/rex-1.9.0.html">Rex-1.9.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.9.0.html">Rex-1.9.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>, and it adds a new feature flag to force writing UTF-8 encoded files, <a href="https://metacpan.org/pod/Rex::Config">documents configuration options</a>, and fixes bugs.</p>


               <h2>Conferences</h2>
                 <div class="news_widget">
                    <div class="news_date">2016-06-21</div>
                    <div class="news_content"><a href="http://preaction.me/">Doug Bell (preaction)</a> from <a href="http://chicago.pm.org/">Chicago.pm</a> will give an <a href="http://www.yapcna.org/yn2016/talk/6549">Introduction to Rex</a> talk at <a href="http://www.yapcna.org/yn2016/">YAPC::NA 2016</a>.</div>
                 </div>

               <h2>Need Help?</h2>
               <p>Rex is a pure open source project, you can find community support in the following places:</p>
               <ul>
                  <li>IRC: <a href="irc://irc.freenode.net/rex">#rex on irc.freenode.net</a></li>
                  <li>Groups: <a href="https://groups.google.com/group/rex-users/">Rex Users</a></li>
                  <li>Serverfault: <a href="http://serverfault.com/questions/tagged/rex">Tag with <i>rex</i></a></li>
                  <li>Issues: <a href="https://github.com/RexOps/Rex/issues">on GitHub</a></li>
                  <li>Feature: you miss a <a href="/care/help__r__ex.html">feature</a>?</li>
               </ul>
               <p><a href="/support/index.html">Professional support</a> is also available.</p>
            </div>
         </div> <!-- widgets -->

         <div id="content_container">
            <div id="content">
                




<p>
» <a href="/index.html">Home</a>
» <a href="/docs/index.html">Docs</a>
» <a href="/docs/release_notes/index.html">Release notes</a>
» <a href="/docs/release_notes/0.12.html">Release notes for 0.12</a>
</p>

              
              <h1>Release notes for 0.12</h1>
              <h2 id="rex">Rex</h2>

<ul>
<li><p>Added <em>sudo</em> command</p>

<pre><code class="hljs">⁠sudo_password &quot;<span class="hljs-string">mypassword</span>&quot;;
⁠
⁠task &quot;<span class="hljs-string">dosomething</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    say sudo &quot;<span class="hljs-string">id</span>&quot;;
⁠};    </code></pre></li>
<li><p>Allow to manage multiple services at once.</p>

<pre><code class="hljs">⁠task &quot;<span class="hljs-string">start</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    service [qw/apache2 rsyslog ftp/] =&gt; &quot;<span class="hljs-string">start</span>&quot;;
⁠};    </code></pre></li>
<li><p>Added possibility to add and remove services from runlevels</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Rex::Commands</span>::<span class="hljs-function">Iptables</span>;
⁠task &quot;<span class="hljs-string">prepare</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    service apache2 =&gt; &quot;<span class="hljs-string">ensure</span>&quot;, &quot;<span class="hljs-string">started</span>&quot;;
⁠    service apache2 =&gt; &quot;<span class="hljs-string">ensure</span>&quot;, &quot;<span class="hljs-string">stopped</span>&quot;;
⁠};    </code></pre></li>
<li><p>Added an iptables module to manage basic iptables rules.</p>

<pre><code class="hljs">⁠task &quot;<span class="hljs-string">firewall</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠
⁠    <span class="hljs-comment"># clear all rules</span><span class="hljs-comment">
⁠</span>    iptables_clear;
⁠
⁠    <span class="hljs-comment"># open port 22 on all devices</span><span class="hljs-comment">
⁠</span>    open_port <span class="hljs-number">22</span>;
⁠
⁠    <span class="hljs-comment"># open port 22 and 80 on eth0</span><span class="hljs-comment">
⁠</span>    open_port [ <span class="hljs-number">22</span>, <span class="hljs-number">80</span> ] =&gt; { dev =&gt; &quot;<span class="hljs-string">eth0</span>&quot;, };
⁠
⁠    <span class="hljs-comment"># close all ports on all devices</span><span class="hljs-comment">
⁠</span>    close_port &quot;<span class="hljs-string">all</span>&quot;;
⁠
⁠    <span class="hljs-comment"># close port 22 on dev eth0</span><span class="hljs-comment">
⁠</span>    close_port <span class="hljs-number">22</span> =&gt; { dev =&gt; &quot;<span class="hljs-string">eth0</span>&quot;, };
⁠
⁠    <span class="hljs-comment"># redirect port 80 to 10080</span><span class="hljs-comment">
⁠</span>    redirect_port <span class="hljs-number">80</span> =&gt; <span class="hljs-number">10080</span>;
⁠
⁠    <span class="hljs-comment"># redirect port 80 to 10080 on eth0</span><span class="hljs-comment">
⁠</span>    redirect_port <span class="hljs-number">80</span> =&gt; {
⁠        dev =&gt; &quot;<span class="hljs-string">eth0</span>&quot;,
⁠        to  =&gt; <span class="hljs-number">10080</span>,
⁠    };
⁠
⁠    <span class="hljs-comment"># set default state rules (RELATED,ESTABLISHED) to accept on all devices</span><span class="hljs-comment">
⁠</span>    default_state_rule;
⁠
⁠    <span class="hljs-comment"># set default state rules (RELATED,ESTABLISHED) to accept on eth0</span><span class="hljs-comment">
⁠</span>    default_state_rule dev =&gt; &quot;<span class="hljs-string">eth0</span>&quot;;
⁠
⁠    <span class="hljs-comment"># make the system a nat gateway for its default route</span><span class="hljs-comment">
⁠</span>    <span class="hljs-comment"># this will set the sysctl entry net.ipv4.ip_forward to 1, too.</span><span class="hljs-comment">
⁠</span>    is_nat_gateway;
⁠
⁠    <span class="hljs-comment"># define a custom iptables rule</span><span class="hljs-comment">
⁠</span>    iptables t =&gt; &quot;<span class="hljs-string">filter</span>&quot;, A =&gt; &quot;<span class="hljs-string">INPUT</span>&quot;, i =&gt; &quot;<span class="hljs-string">eth0</span>&quot;, ...;
⁠};    </code></pre></li>
<li><p>Added Amazon EC2 Support</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Data::Dumper</span>;
⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Rex::Commands</span>::<span class="hljs-function">Cloud</span>;
⁠
⁠user &quot;<span class="hljs-string">root</span>&quot;;
⁠public_key &quot;<span class="hljs-string">/path/to/your/ec2-public.key</span>&quot;;
⁠private_key &quot;<span class="hljs-string">/path/to/your/ec2-private.key.pem</span>&quot;;
⁠
⁠<span class="hljs-comment"># set the cloud service provider to &quot;Amazon&quot;</span><span class="hljs-comment">
⁠</span>cloud_service &quot;<span class="hljs-string">Amazon</span>&quot;;
⁠
⁠<span class="hljs-comment"># set cloud auth</span><span class="hljs-comment">
⁠</span>cloud_auth &quot;<span class="hljs-type">$access_key</span>&quot;, &quot;<span class="hljs-type">$secret_access_key</span>&quot;;
⁠
⁠<span class="hljs-comment"># set cloud region</span><span class="hljs-comment">
⁠</span>cloud_region &quot;<span class="hljs-string">ec2.eu-west-1.amazonaws.com</span>&quot;;
⁠
⁠<span class="hljs-comment"># define a group with all running ec2 instances</span><span class="hljs-comment">
⁠</span>group ec2 =&gt; get_cloud_instances_as_group();
⁠
⁠task &quot;<span class="hljs-string">list</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    <span class="hljs-function">print</span> Dumper cloud_instances_list;
⁠    <span class="hljs-function">print</span> Dumper cloud_volume_list;
⁠
⁠    <span class="hljs-function">print</span> Dumper get_cloud_regions;
⁠    <span class="hljs-function">print</span> Dumper get_cloud_availability_zones;
⁠};
⁠
⁠task &quot;<span class="hljs-string">create</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠
⁠    <span class="hljs-comment"># if you want an ebs volume, create it. if not, you don&#39;t need this.</span><span class="hljs-comment">
⁠</span>    <span class="hljs-keyword">my</span> <span class="hljs-type">$vol_id</span> = cloud_volume create =&gt; { size =&gt; <span class="hljs-number">1</span>, zone =&gt; &quot;<span class="hljs-string">eu-west-1a</span>&quot;; };
⁠
⁠    <span class="hljs-comment"># create the cloud instances and attach the just created ebs volume.</span><span class="hljs-comment">
⁠</span>    cloud_instance create =&gt; {
⁠        image_id =&gt; &quot;<span class="hljs-string">ami-02103876</span>&quot;,
⁠        name     =&gt; &quot;<span class="hljs-string">test-ec2</span>&quot;,
⁠        key      =&gt; &quot;<span class="hljs-string">my-test-key</span>&quot;,
⁠        volume   =&gt; <span class="hljs-type">$vol_id</span>,       <span class="hljs-comment"># if you don&#39;t have a volume, skip this</span><span class="hljs-comment">
⁠</span>        zone =&gt; &quot;<span class="hljs-string">eu-west-1a</span>&quot;, <span class="hljs-comment"># the volume and the instance must be in the same zone. skip this if you don&#39;t have a volume.</span><span class="hljs-comment">
⁠</span>    };
⁠};
⁠
⁠task &quot;<span class="hljs-string">destroy</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    cloud_volume detach      =&gt; &quot;<span class="hljs-string">vol-xxaabb</span>&quot;;
⁠    cloud_instance terminate =&gt; &quot;<span class="hljs-string">i-ffgghhjj</span>&quot;;
⁠    cloud_colume <span class="hljs-function">delete</span>      =&gt; &quot;<span class="hljs-string">vol-xxaabb</span>&quot;;
⁠};
⁠
⁠task &quot;<span class="hljs-string">prepare</span>&quot;,
⁠  group =&gt; &quot;<span class="hljs-string">ec2</span>&quot;,
⁠  <span class="hljs-keyword">sub </span>{
⁠    run &quot;<span class="hljs-string">apt-get update</span>&quot;;
⁠    install <span class="hljs-keyword">package</span> =&gt; &quot;<span class="hljs-string">apache2</span>&quot;;
⁠    service apache2 =&gt; &quot;<span class="hljs-string">start</span>&quot;;
⁠  };    </code></pre></li>
<li><p>Some improvements and bug fixes</p></li>
</ul>



            </div>
         </div> <!-- content -->

       <!-- page -->


   <div class="clearfix"></div>
   <div class="bottom_bar">
      <p>Proudly powered by <a href="http://preaction.me/statocles/">Statocles</a></p>
      <a href="https://groups.google.com/group/rex-users/">Google Group</a> / <a href="http://twitter.com/RexOps">Twitter</a> / <a href="https://github.com/RexOps/Rex">GitHub</a> / <a href="http://www.freelists.org/list/rex-users">Mailinglist</a> / <a href="irc://irc.freenode.net/rex">irc.freenode.net #rex</a>   -.ô.-   <a href="http://www.disclaimer.de/disclaimer.htm" target="_blank">Disclaimer</a>
   </div>

   </body>

</html>
