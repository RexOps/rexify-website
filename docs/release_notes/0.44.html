<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html prefix="og: http://ogp.me/ns#" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta content="text/html; charset=utf-8" http-equiv="content-type">

      <title>Release notes for 0.44</title>

      <meta content="Release notes for 0.44" property="og:title">
      <meta content="website" property="og:type">
      <meta content="https://www.rexify.org/docs/release_notes/0.44.html" property="og:url">
      <meta content="https://www.rexify.org/public/images/skin/rexify.org/open_graph.png" property="og:image">

      <meta content="width=1024, initial-scale=0.5" name="viewport">
      <link href="/public/images/skin/rexify.org/favicon.png" rel="shortcut icon">
      <link href="/public/css/skin/rexify.org/hs/tomorrow.css" rel="stylesheet">
      <link charset="utf-8" href="/public/css/skin/rexify.org/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
      <link charset="utf-8" href="/public/css/skin/rexify.org/default.css" media="screen" rel="stylesheet" type="text/css">
      <meta content="" name="description">
      <meta content="" name="keywords">

   </head>
   <body>

      <div id="page">

         <div class="top_div" id="top-div">
            <h1>(R)?ex <small>the friendly automation framework</small></h1>
            <div id="nav-div">
               
<div class="nav_links">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/get/index.html">Get Rex</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/care/index.html">Care</a>
      <ul class="dropdown_menu dropdown_care">
          <li><a href="/care/help__r__ex.html">Help (R)?ex</a></li>
          <li><a href="/care/help_people_in_need.html">Help people</a></li>
      </ul>
    </li>
    <li><a href="/support/index.html">Support</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/docs/index.html">Docs</a>
      <ul class="dropdown_menu dropdown_docs">
          <li><a href="/docs/faq/index.html">FAQ</a></li>
          <li><a href="/docs/guides/index.html">Guides</a></li>
          <li><a href="/docs/rex_book/index.html">Rex Book (work in progress)</a></li>
          <li><a href="/docs/release_notes/index.html">Release notes</a></li>
            <li class="divider"></li>
          <li><a href="https://metacpan.org/release/Rex">API</a></li>
      </ul>
    </li>
  </ul>
</div>

            </div>
            </div>
         </div>

         <div id="widgets_container">
            <div id="widgets">
               <h2>News</h2>
                   <p><b>2020-02-05</b><br>
                     <a href="/blog/2020/02/05/rex-1.8.1.html">Rex-1.8.1</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.8.1.html">Rex-1.8.1 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>, improving release automation, packaging, and documentation.</p>

                   <p><b>2020-01-05</b><br>
                     <a href="/blog/2020/01/05/rex-1.8.0.html">Rex-1.8.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.8.0.html">Rex-1.8.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>, adding initial support to manage Void Linux systems.</p>

                   <p><b>2019-12-05</b><br>
                     <a href="/blog/2019/12/05/rex-1.7.1.html">Rex-1.7.1</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.7.1.html">Rex-1.7.1 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>, fixing a Windows testing issue, and updating some docs.</p>

                   <p><b>2019-11-05</b><br>
                     <a href="/blog/2019/11/05/rex-1.7.0.html">Rex-1.7.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.7.0.html">Rex-1.7.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>.</p>

                   <p><b>2019-07-02</b><br>
                     <a href="/blog/2019/07/02/deprecating_official_rex_packages.html">Deprecating official Rex packages</a></p><p>
                   </p><p></p><p>As part of our efforts to simplify maintenance around RexOps projects, we have decided to stop building Rex packages on our side. We recommend relying on OS packages maintained by the various distributions in their respective upstream repositories, or to install Rex from CPAN.</p>


               <h2>Conferences</h2>
                 <div class="news_widget">
                    <div class="news_date">2016-06-21</div>
                    <div class="news_content"><a href="http://preaction.me/">Doug Bell (preaction)</a> from <a href="http://chicago.pm.org/">Chicago.pm</a> will give an <a href="http://www.yapcna.org/yn2016/talk/6549">Introduction to Rex</a> talk at <a href="http://www.yapcna.org/yn2016/">YAPC::NA 2016</a>.</div>
                 </div>

               <h2>Need Help?</h2>
               <p>Rex is a pure open source project, you can find community support in the following places:</p>
               <ul>
                  <li>IRC: <a href="irc://irc.freenode.net/rex">#rex on irc.freenode.net</a></li>
                  <li>Groups: <a href="https://groups.google.com/group/rex-users/">Rex Users</a></li>
                  <li>Serverfault: <a href="http://serverfault.com/questions/tagged/rex">Tag with <i>rex</i></a></li>
                  <li>Issues: <a href="https://github.com/RexOps/Rex/issues">on GitHub</a></li>
                  <li>Feature: you miss a <a href="/care/help__r__ex.html">feature</a>?</li>
               </ul>
               <p><a href="/support/index.html">Professional support</a> is also available.</p>
            </div>
         </div> <!-- widgets -->

         <div id="content_container">
            <div id="content">
                




<p>
» <a href="/index.html">Home</a>
» <a href="/docs/index.html">Docs</a>
» <a href="/docs/release_notes/index.html">Release notes</a>
» <a href="/docs/release_notes/0.44.html">Release notes for 0.44</a>
</p>

              
              <h1>Release notes for 0.44</h1>
              <h1 id="common">Common</h1>

<ul>
<li><p>Docker support (experimental) - #278 - chenryn</p></li>
<li><p>Format the output of say() - #155</p>

<pre><code class="hljs">⁠sayformat &#39;<span class="hljs-string">%h: %s</span>&#39;;
⁠
⁠task &quot;<span class="hljs-string">test</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    say &quot;<span class="hljs-string">hello world</span>&quot;;
⁠};    </code></pre></li>
</ul>

<p>Possible formatting options:</p>

<ul>
<li>%D - current date (yyyy-mm-dd HH:mm:ss)</li>
<li>%h - the target host</li>
<li>%p - the pid</li>
<li><p>%s - the string to output</p></li>
<li><p>user-defined columns for ps() command - #175 - dirkcjelli</p>

<pre><code class="hljs">⁠task &quot;<span class="hljs-string">ps</span>&quot;, &quot;<span class="hljs-string">server01</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    <span class="hljs-keyword">my</span> <span class="hljs-type">@list</span> = <span class="hljs-function">grep</span> { <span class="hljs-variable">$_</span>-&gt;{&quot;<span class="hljs-string">ni</span>&quot;} == <span class="hljs-number">-5</span> } ps( &quot;<span class="hljs-string">command</span>&quot;, &quot;<span class="hljs-string">ni</span>&quot; );
⁠};    </code></pre></li>
<li><p>using tilde (~) sign for directories - #198 - Gnouc, Krimdomu</p></li>
<li><p>Rex::SCM::Git now uses cwd option of run() command, so it also works remotely. - #211 - atrodo</p></li>
<li><p>Box default pkg update - #217 - endyman</p></li>
<li><p>run_batch() command to run batches on demand - #222 - jorisd</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">@return</span> = run_batch &quot;<span class="hljs-string">batchname</span>&quot;, on =&gt; &quot;<span class="hljs-string">192.168.3.56</span>&quot;;    </code></pre></li>
<li><p>Allow &quot;sed&quot; function to work on multiple lines. - #227 - davidolrik, krimdomu</p></li>
<li><p>Added bulk_install() method for packages installing - #229 - jorisd</p></li>
<li><p>Enable bulk_install for Gentoo and OpenWrt - #231 - ferki</p></li>
<li><p>Added some hooks at central points in rex, so that it is possible to control the behaviour of rex in some points.</p></li>
</ul>

<p>For example:</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Rex::Hook</span>;
⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Data::Dumper</span>;
⁠
⁠register_function_hooks {
⁠    before =&gt; {
⁠        file =&gt; <span class="hljs-keyword">sub </span>{
⁠            <span class="hljs-function">print</span> Dumper( \<span class="hljs-type">@_</span> );
⁠            <span class="hljs-function">print</span> &quot;<span class="hljs-string">before file</span><span class="hljs-string">\n</span>&quot;;
⁠            <span class="hljs-keyword">return</span>;
⁠        },
⁠        create_user =&gt; <span class="hljs-keyword">sub </span>{
⁠            <span class="hljs-function">print</span> &quot;<span class="hljs-string">before create_user</span><span class="hljs-string">\n</span>&quot;;
⁠            <span class="hljs-function">die</span>;
⁠        },
⁠    },
⁠    after =&gt; {
⁠        file =&gt; <span class="hljs-keyword">sub </span>{
⁠            <span class="hljs-function">print</span> &quot;<span class="hljs-string">after file</span><span class="hljs-string">\n</span>&quot;;
⁠        },
⁠        create_user =&gt; <span class="hljs-keyword">sub </span>{
⁠            <span class="hljs-function">print</span> &quot;<span class="hljs-string">after create_user</span><span class="hljs-string">\n</span>&quot;;
⁠        },
⁠    }
⁠};</code></pre>

<ul>
<li><p>added on_change hook for sync_up and sync_down - #232</p>

<pre><code class="hljs">⁠sync_up &quot;<span class="hljs-string">files/</span>&quot;, &quot;<span class="hljs-string">/remote/folder</span>&quot;, {
⁠    on_change =&gt; <span class="hljs-keyword">sub </span>{
⁠        <span class="hljs-keyword">my</span> (<span class="hljs-type">@changed_files</span>) = <span class="hljs-type">@_</span>;
⁠
⁠        <span class="hljs-comment"># do something</span><span class="hljs-comment">
⁠</span>    };
⁠};    </code></pre></li>
<li><p>Rex::Group::Lookup::Command - read hostnames from a command. - #233 - fanyeren</p>

<pre><code class="hljs">⁠group &quot;<span class="hljs-string">dbserver</span>&quot; =&gt; lookup_command(&quot;<span class="hljs-string">cat ip.list | grep -v -E &#39;^#&#39;</span>&quot;);    </code></pre></li>
<li><p>Improve user and group management on OpenWrt - #242 - ferki</p></li>
<li><p>Add kernel module (un)loading support for OpenWrt - #243 - ferki</p></li>
<li><p>Add service status support for OpenWrt - #246 - ferki</p></li>
<li><p>Make ssh read buffer configurable (for Net::SSH2 connections) - #247. This will speedup the connection, but may break on older systems!</p>

<pre><code class="hljs">⁠set rex_internals =&gt; { read_buffer_size =&gt; <span class="hljs-number">2000</span>, };    </code></pre></li>
<li><p>Add systemd service provider support for Gentoo - #250 - ferki</p></li>
<li><p>Add systemd service provider support for Mageia - #282</p></li>
<li><p>feature flag to deactivate path cleanup - #261</p>

<pre><code class="hljs">⁠<span class="hljs-comment"># Rexfile</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">use</span> Rex -feature =&gt; [&#39;<span class="hljs-string">no_path_cleanup</span>&#39;];
⁠
⁠task prepare =&gt; <span class="hljs-keyword">sub </span>{ };    </code></pre></li>
<li><p>feature flag to parse $HOME/.profile - #262</p>

<pre><code class="hljs">⁠<span class="hljs-comment"># Rexfile</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">use</span> Rex -feature =&gt; [&#39;<span class="hljs-string">source_profile</span>&#39;];
⁠
⁠task prepare =&gt; <span class="hljs-keyword">sub </span>{ };    </code></pre></li>
<li><p>Cloud::Amazon: check to make sure it is HASH before key look up - #263 - oneness</p></li>
<li><p>autodie feature if run() fail - #265</p>

<pre><code class="hljs">⁠<span class="hljs-comment"># Rexfile</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">use</span> Rex -feature =&gt; [&#39;<span class="hljs-string">exec_autodie</span>&#39;];
⁠
⁠task &quot;<span class="hljs-string">prepare</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    run &quot;<span class="hljs-string">this-command-fails</span>&quot;;
⁠};    </code></pre></li>
<li><p>added support for tcsh shell - #284</p></li>
</ul>

<h1 id="bugfixes">Bugfixes</h1>

<ul>
<li><p>Fix guestinfo for Gentoo - #236 - ferki</p></li>
<li><p>get_host can&#39;t find aliases - #239, #240 - jorisd, ferki</p></li>
<li><p>rsync get wrong user if using &quot;auth for $task&quot; - #252</p></li>
<li><p>Flag existing feature sudo_without_sh as found - #253 - gittex</p></li>
<li><p>Cleaned up Data module dependency - #254</p></li>
<li><p>iptables arguments needs quote if they are whitespaced - #257 - jorisd</p></li>
<li><p>add pod encoding marker - #259 - sergeyromanov</p></li>
<li><p>&quot;needs&quot; doesn&#39;t know how to call tasks from the main Rexfile - #260</p></li>
<li><p>gathering alias network interfaces like eth0:0 - #264</p></li>
<li><p>Cron: jobs can be duplicated - #269 - jorisd</p></li>
<li><p>FreeBSD: store netmask in dotted decimal format - #287 - andrejzverev</p></li>
<li><p>Uninitialized value in OpenSSH.pm - #290 - samuelet</p></li>
</ul>

<h1 id="communitymodules">Community modules</h1>

<ul>
<li><p>Rex::Ext::Crypt - encrypt strings inside a Rexfile.</p></li>
<li><p>Rex::Ext::Backup - a simple backup module. This module creates a backup of a file before rex changes it.</p>

<pre><code class="hljs">⁠include qw/Rex::Ext::Backup/;
⁠
⁠set backup_location =&gt; &quot;<span class="hljs-string">backup/</span><span class="hljs-type">%h</span>&quot;;
⁠
⁠task yourtask =&gt; <span class="hljs-keyword">sub </span>{
⁠    file &quot;<span class="hljs-string">/etc/foo.conf</span>&quot;, content =&gt; &quot;<span class="hljs-string">new content</span><span class="hljs-string">\n</span>&quot;;
⁠};    </code></pre></li>
<li><p>Rex::Commands::Pstree - module to run pstree - fanyeren</p></li>
</ul>

<h1 id="packagerepository">Package repository</h1>

<p>This is the first release build with the new build system on <a href="https://build.rexify.org">build.rexify.org</a>. Due to this fact the following repository URLs have changed:</p>

<ul>
<li>Fedora</li>
<li>Mageia</li>
<li>OpenSuSE</li>
</ul>

<p>Please see the <a href="/get">Get Rex</a> page for the new URLs.</p>



            </div>
         </div> <!-- content -->

       <!-- page -->


   <div class="clearfix"></div>
   <div class="bottom_bar">
      <p>Proudly powered by <a href="http://preaction.me/statocles/">Statocles</a></p>
      <a href="https://groups.google.com/group/rex-users/">Google Group</a> / <a href="http://twitter.com/RexOps">Twitter</a> / <a href="https://github.com/RexOps/Rex">GitHub</a> / <a href="http://www.freelists.org/list/rex-users">Mailinglist</a> / <a href="irc://irc.freenode.net/rex">irc.freenode.net #rex</a>   -.ô.-   <a href="http://www.disclaimer.de/disclaimer.htm" target="_blank">Disclaimer</a>
   </div>

   </body>

</html>
