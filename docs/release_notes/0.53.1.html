<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html prefix="og: http://ogp.me/ns#" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta content="text/html; charset=utf-8" http-equiv="content-type">

      <title>Release notes for 0.53.1</title>

      <meta content="Release notes for 0.53.1" property="og:title">
      <meta content="website" property="og:type">
      <meta content="https://www.rexify.org/docs/release_notes/0.53.1.html" property="og:url">
      <meta content="https://www.rexify.org/public/images/skin/rexify.org/open_graph.png" property="og:image">

      <meta content="width=1024, initial-scale=0.5" name="viewport">
      <link href="/public/images/skin/rexify.org/favicon.png" rel="shortcut icon">
      <link href="/public/css/skin/rexify.org/hs/tomorrow.css" rel="stylesheet">
      <link charset="utf-8" href="/public/css/skin/rexify.org/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
      <link charset="utf-8" href="/public/css/skin/rexify.org/default.css" media="screen" rel="stylesheet" type="text/css">
      <meta content="" name="description">
      <meta content="" name="keywords">

   </head>
   <body>

      <div id="page">

         <div class="top_div" id="top-div">
            <h1>(R)?ex <small>the friendly automation framework</small></h1>
            <div id="nav-div">
               
<div class="nav_links">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/get/index.html">Get Rex</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/care/index.html">Care</a>
      <ul class="dropdown_menu dropdown_care">
          <li><a href="/care/help__r__ex.html">Help (R)?ex</a></li>
          <li><a href="/care/help_people_in_need.html">Help people</a></li>
      </ul>
    </li>
    <li><a href="/support/index.html">Support</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/docs/index.html">Docs</a>
      <ul class="dropdown_menu dropdown_docs">
          <li><a href="/docs/faq/index.html">FAQ</a></li>
          <li><a href="/docs/guides/index.html">Guides</a></li>
          <li><a href="/docs/rex_book/index.html">Rex Book (work in progress)</a></li>
          <li><a href="/docs/release_notes/index.html">Release notes</a></li>
            <li class="divider"></li>
          <li><a href="https://metacpan.org/release/Rex">API</a></li>
      </ul>
    </li>
  </ul>
</div>

            </div>
            </div>
         </div>

         <div id="widgets_container">
            <div id="widgets">
               <h2>News</h2>
                   <p><b>2020-07-05</b><br>
                     <a href="/blog/2020/07/05/rex-1.12.0.html">Rex-1.12.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.12.0.html">Rex-1.12.0 release</a> is now <a href="https://metacpan.org/release/FERKI/Rex-1.12.0">available on CPAN</a>. It adds support for local rsync operations, improves tab completion for Bash and Zsh, and fixes related bugs. It also discontinues support for running Rex on Windows 7, Windows Server 2008 R2, and older versions since both mainstream and extended support has already ended for these products.</p>

                   <p><b>2020-06-09</b><br>
                     <a href="/blog/2020/06/09/rex-on-stackshare.html">Rex on StackShare</a></p><p>
                   </p><p></p><p>Thanks to the support from their amazing team, <a href="https://stackshare.io/rex">Rex is now listed on StackShare</a>.</p>

                   <p><b>2020-06-05</b><br>
                     <a href="/blog/2020/06/05/rex-1.11.0.html">Rex-1.11.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.11.0.html">Rex-1.11.0 release</a> is now <a href="https://metacpan.org/release/FERKI/Rex-1.11.0">available on CPAN</a>. It enhances the behaviour of sysctl and file management, fixes bugs about group management and OpenSSH connection options, and clarifies quite a bit of documentation.</p>

                   <p><b>2020-05-05</b><br>
                     <a href="/blog/2020/05/05/rex-1.10.0.html">Rex-1.10.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.10.0.html">Rex-1.10.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a> (<a href="https://metacpan.org/source/FERKI/Rex-1.10.0/ChangeLog">changelog</a>). Apart from documentation updates and bug fixes, it adds initial package glob support, and an <code>on_change</code> hook for the <code>mkdir</code> command.</p>

                   <p><b>2020-04-05</b><br>
                     <a href="/blog/2020/04/05/rex-1.9.0.html">Rex-1.9.0</a></p><p>
                   </p><p></p><p>The <a href="/docs/release_notes/1.9.0.html">Rex-1.9.0 release</a> is now available on <a href="https://metacpan.org/release/Rex">CPAN</a>, and it adds a new feature flag to force writing UTF-8 encoded files, <a href="https://metacpan.org/pod/Rex::Config">documents configuration options</a>, and fixes bugs.</p>


               <h2>Conferences</h2>
                 <div class="news_widget">
                    <div class="news_date">2016-06-21</div>
                    <div class="news_content"><a href="http://preaction.me/">Doug Bell (preaction)</a> from <a href="http://chicago.pm.org/">Chicago.pm</a> will give an <a href="http://www.yapcna.org/yn2016/talk/6549">Introduction to Rex</a> talk at <a href="http://www.yapcna.org/yn2016/">YAPC::NA 2016</a>.</div>
                 </div>

               <h2>Need Help?</h2>
               <p>Rex is a pure open source project, you can find community support in the following places:</p>
               <ul>
                  <li>IRC: <a href="irc://irc.freenode.net/rex">#rex on irc.freenode.net</a></li>
                  <li>Groups: <a href="https://groups.google.com/group/rex-users/">Rex Users</a></li>
                  <li>Serverfault: <a href="http://serverfault.com/questions/tagged/rex">Tag with <i>rex</i></a></li>
                  <li>Issues: <a href="https://github.com/RexOps/Rex/issues">on GitHub</a></li>
                  <li>Feature: you miss a <a href="/care/help__r__ex.html">feature</a>?</li>
               </ul>
               <p><a href="/support/index.html">Professional support</a> is also available.</p>
            </div>
         </div> <!-- widgets -->

         <div id="content_container">
            <div id="content">
                




<p>
» <a href="/index.html">Home</a>
» <a href="/docs/index.html">Docs</a>
» <a href="/docs/release_notes/index.html">Release notes</a>
» <a href="/docs/release_notes/0.53.1.html">Release notes for 0.53.1</a>
</p>

              
              <h1>Release notes for 0.53.1</h1>
              <p>These are the changes in 0.53 release.</p>

<p>This release brings a few bugfixes and compatibility to the current <a href="https://github.com/RexOps/rex-jobcontrol">Rex::JobControl</a> Webfrontend.</p>

<p>A first version of the Rex::JobControl Webfrontend will also be released in the next days. But this will be a separate anouncement.</p>

<h2 id="base">Base</h2>

<ul>
<li><p>Added a new <strong>resource</strong> function.</p>

<p>A <em>resource</em> is a perl function that represent a <em>object</em> on your server. An <em>object</em> is for example a virtual host configuration for apache, a database user or a more complex thing like a Tomcat instance. With the resource() function it is possible to create custom resources that will also appear in the reporting.</p>

<p>Resources have a special syntax and some keywords.</p>

<pre><code class="hljs">⁠resource <span class="hljs-type">$resource_name</span>,
⁠  option1 =&gt; &quot;<span class="hljs-string">value1</span>&quot;,
⁠  option2 =&gt; &quot;<span class="hljs-string">value2</span>&quot;,
⁠  ensure  =&gt; &quot;<span class="hljs-string">present, absent, ...</span>&quot;;    </code></pre>

<p>Currently there is only one keyword that every resource have to obey.</p>

<ul>
<li><strong>ensure</strong> - Can be <em>present</em> (default if not set) or <em>absent</em> or any other string.</li>
</ul>

<p>Every resource should also emit a changed signal if the resource did changes. With this signal the <em>on_change</em> hook gets triggered and the reporting knows that the resource changed something.</p>

<p>resource() parameters will also be visible in the templates without the need to register them.</p>

<p>Resources get registerd as perl functions in the namespace where they are created. You can see a complete example <a href="#">here</a>.</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">package</span> BaseSystem;
⁠<span class="hljs-keyword">use</span> <span class="hljs-function">Rex::Resource</span>::<span class="hljs-function">Common</span>;
⁠resource &quot;<span class="hljs-string">motd</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    <span class="hljs-keyword">my</span> (<span class="hljs-type">$params</span>) = <span class="hljs-type">@_</span>;
⁠    <span class="hljs-keyword">my</span> <span class="hljs-type">$name</span> = resource_name;
⁠
⁠    <span class="hljs-keyword">if</span> ( <span class="hljs-type">$params</span>-&gt;{ensure} eq &quot;<span class="hljs-string">present</span>&quot; ) {
⁠
⁠        <span class="hljs-comment"># do some things.</span><span class="hljs-comment">
⁠</span>        <span class="hljs-keyword">if</span> ( !is_file(<span class="hljs-type">$name</span>) ) {
⁠            file <span class="hljs-type">$name</span>, content =&gt; <span class="hljs-type">$params</span>-&gt;{content};
⁠            emit changed;
⁠        }
⁠    }
⁠    <span class="hljs-keyword">elsif</span> ( <span class="hljs-type">$params</span>-&gt;{ensure} eq &quot;<span class="hljs-string">absent</span>&quot; ) {
⁠        <span class="hljs-keyword">if</span> ( is_file(<span class="hljs-type">$name</span>) ) {
⁠            rm <span class="hljs-type">$name</span>;
⁠            emit changed;
⁠        }
⁠    }
⁠};    </code></pre>

<p>Now you can call this new resource with <code>BaseSystem::motd</code></p>

<pre><code class="hljs">⁠<span class="hljs-keyword">use</span> BaseSystem;
⁠task &quot;<span class="hljs-string">setup</span>&quot;, <span class="hljs-keyword">sub </span>{
⁠    <span class="hljs-function">BaseSystem::motd</span> &quot;<span class="hljs-string">/etc/motd</span>&quot;,
⁠      ensure    =&gt; present,
⁠      content   =&gt; &quot;<span class="hljs-string">Hello World.</span>&quot;,
⁠      on_change =&gt; <span class="hljs-keyword">sub </span>{
⁠
⁠        <span class="hljs-comment"># do something when changed event was triggered</span><span class="hljs-comment">
⁠</span>      };
⁠};    </code></pre></li>
<li><p>Added new feature flag <strong>register_cmdb_top_scope</strong>. This will register all the topscope variables in your CMDB to templates.</p></li>
</ul>

<h2 id="bugfixes">Bugfixes</h2>

<ul>
<li>fixed a problem with CentOS 7 gathering the ip address with virtualbox guest tools.</li>
<li>fixed on_change hook for file() resource when file was removed.</li>
<li>#419 - fixed chkconfig bug for Mageia, Redhat and SuSE - chenryn.</li>
</ul>



            </div>
         </div> <!-- content -->

       <!-- page -->


   <div class="clearfix"></div>
   <div class="bottom_bar">
      <p>Proudly powered by <a href="http://preaction.me/statocles/">Statocles</a></p>
      <a href="https://groups.google.com/group/rex-users/">Google Group</a> / <a href="http://twitter.com/RexOps">Twitter</a> / <a href="https://github.com/RexOps/Rex">GitHub</a> / <a href="http://www.freelists.org/list/rex-users">Mailinglist</a> / <a href="irc://irc.freenode.net/rex">irc.freenode.net #rex</a>   -.ô.-   <a href="http://www.disclaimer.de/disclaimer.htm" target="_blank">Disclaimer</a>
   </div>

   </body>

</html>
