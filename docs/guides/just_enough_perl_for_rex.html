<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html content="text/html; charset=utf-8" content-type" prefix="og: http://ogp.me/ns#" xml:lang="en&gt;
   &lt;head&gt;
      &lt;meta http-equiv=" xmlns="http://www.w3.org/1999/xhtml">

      <title>Just enough Perl for Rex</title>

      <meta content="Just enough Perl for Rex" property="og:title">
      <meta content="website" property="og:type">
      <meta content="https://www.rexify.org/docs/guides/just_enough_perl_for_rex.html" property="og:url">
      <meta content="https://www.rexify.org/public/images/skin/rexify.org/open_graph.png" property="og:image">

      <meta content="width=1024, initial-scale=0.5" name="viewport">
      <link href="/public/images/skin/rexify.org/favicon.png" rel="shortcut icon">
      <link href="/public/css/skin/rexify.org/hs/tomorrow.css" rel="stylesheet">
      <link charset="utf-8" href="/public/css/skin/rexify.org/bootstrap.min.css?20130325" media="screen" rel="stylesheet" type="text/css">
      <link charset="utf-8" href="/public/css/skin/rexify.org/default.css?20140412" media="screen" rel="stylesheet" type="text/css">
      <meta content="" name="description">
      <meta content="" name="keywords">

   
   <body>

      <div id="page">

         <div class="top_div" id="top-div">
            <h1>(R)?ex <small>Deployment &amp; Configuration Management</small></h1>
            <div id="nav-div">
               
<div class="nav_links">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/get/index.html">Get Rex</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/care/index.html">Care</a>
      <ul class="dropdown_menu dropdown_care">
          <li><a href="/care/help__r__ex.html">Help (R)?ex</a></li>
          <li><a href="/care/help_people_in_need.html">Help people</a></li>
      </ul>
    </li>
    <li><a href="/support/index.html">Support</a></li>
    <li>
      <b class="arrow_box"></b>
      <a class="dropdown_link" href="/docs/index.html">Docs</a>
      <ul class="dropdown_menu dropdown_docs">
          <li><a href="/docs/faq/index.html">FAQ</a></li>
          <li><a href="/docs/guides/index.html">Guides</a></li>
          <li><a href="/docs/rex_book/index.html">Rex Book (work in progress)</a></li>
          <li><a href="/docs/release_notes/index.html">Release notes</a></li>
            <li class="divider"></li>
          <li><a href="https://metacpan.org/release/Rex">API</a></li>
      </ul>
    </li>
  </ul>
</div>

            </div>
            </div>
         </div>

         <div id="widgets_container">
            <div id="widgets">
               <h2>News</h2>
                   <p><b>2019-07-02</b><br>
                     <a href="/blog/2019/07/02/deprecating_official_rex_packages.html">Deprecating official Rex packages</a></p><p>
                   </p><p></p><p>As part of our efforts to simplify maintenance around RexOps projects, we have decided to stop building Rex packages on our side. We recommend relying on OS packages maintained by the various distributions in their respective upstream repositories, or to install Rex from CPAN.</p>

                   <p><b>2019-06-09</b><br>
                     <a href="/blog/2019/06/09/site-update.html">Post-migration updates &amp; clean-up</a></p><p>
                   </p><p></p><p>Over the course of the past weeks many clean-ups have been
done, reaping the benefits provided by our new
<a href="http://preaction.me/statocles">Statocles</a>-based site:</p>

                   <p><b>2019-05-19</b><br>
                     <a href="/blog/2019/05/19/new-site.html">New site engine for rexify.org</a></p><p>
                   </p><p></p><p>After months of work on a new site backend, we reached the MVP today for
our site to be switched over to a new engine: from now on, our site will be
maintained using the static site generator
<a href="http://preaction.me/statocles/">Statocles</a>.</p>


               <h2>Conferences</h2>
                 <div class="news_widget">
                    <div class="news_date">2016-06-21</div>
                    <div class="news_content"><a href="http://preaction.me/">Doug Bell (preaction)</a> from <a href="http://chicago.pm.org/">Chicago.pm</a> will give an <a href="http://www.yapcna.org/yn2016/talk/6549">Introduction to Rex</a> talk at <a href="http://www.yapcna.org/yn2016/">YAPC::NA 2016</a>.</div>
                 </div>

               <h2>Need Help?</h2>
               <p>Rex is a pure open source project, you can find community support in the following places:</p>
               <ul>
                  <li>IRC: <a href="irc://irc.freenode.net/rex">#rex on irc.freenode.net</a></li>
                  <li>Groups: <a href="https://groups.google.com/group/rex-users/">Rex Users</a></li>
                  <li>Serverfault: <a href="http://serverfault.com/questions/tagged/rex">Tag with <i>rex</i></a></li>
                  <li>Issues: <a href="https://github.com/RexOps/Rex/issues">on GitHub</a></li>
                  <li>Feature: you miss a <a href="/feature.html">feature</a>?</li>
               </ul>
               <p><a href="/support/index.html">Professional support</a> is also available.</p>
            </div>
         </div> <!-- widgets -->

         <div id="content_container">
            <div id="content">
              




<p>
» <a href="/index.html">Home</a>
» <a href="/docs/index.html">Docs</a>
» <a href="/docs/guides/index.html">Guides</a>
» <a href="/docs/guides/just_enough_perl_for_rex.html">Just enough Perl for Rex</a>
</p>

              
              <h1>Just enough Perl for Rex</h1>
              <p>Perl is a scripting language designed to keep easy things easy, and make hard things possible. In this tutorial you will learn just enough Perl to write your own Rex tasks.</p>

<p>If you have suggestions or wishes, please post a comment, tell us in our #rex channel on freenode, or just send a pull request against the GitHub repository.</p>

<h2 id="variables">Variables</h2>

<h3 id="scalarvariables">Scalar variables</h3>

<p>Scalars can contain single items, like strings, numbers, objects or references.</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">$name</span>  = &quot;<span class="hljs-string">John</span>&quot;;     <span class="hljs-comment"># this is a string</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">my</span> <span class="hljs-type">$age</span>   = <span class="hljs-number">28</span>;         <span class="hljs-comment"># this is a number (integer)</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">my</span> <span class="hljs-type">$float</span> = <span class="hljs-number">28.5</span>;       <span class="hljs-comment"># also a number, but a float</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">my</span> <span class="hljs-type">$car</span>   = Car-&gt;new(); <span class="hljs-comment"># this is an object from the class Car</span></code></pre>

<h3 id="arrayvariables">Array variables</h3>

<p>Arrays are lists of scalars. Like a grocery list.</p>

<pre><code class="hljs">⁠my <span class="hljs-type">@names</span>  = ( &quot;<span class="hljs-string">John</span>&quot;, &quot;<span class="hljs-string">Fred</span>&quot;, &quot;<span class="hljs-string">Charley</span>&quot; );
⁠<span class="hljs-keyword">my</span> <span class="hljs-type">@to_buy</span> = qw( Cheese Butter Salt Lemons Oranges Apples );</code></pre>

<p>To access an array element you have to use its index, which starts at zero:</p>

<pre><code class="hljs">⁠say &quot;<span class="hljs-string">First name: </span>&quot; . <span class="hljs-type">$names</span>[0];
⁠say &quot;<span class="hljs-string">Last name: </span>&quot; . <span class="hljs-type">$name</span>[<span class="hljs-number">2</span>];
⁠say &quot;<span class="hljs-string">Also last name: </span>&quot; . <span class="hljs-type">$name</span>[<span class="hljs-number">-1</span>];</code></pre>

<p>Split a string into an array:</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">$string</span> = &quot;<span class="hljs-string">John,Fred,Carl,Lewis</span>&quot;;
⁠<span class="hljs-keyword">my</span> <span class="hljs-type">@names</span>  = <span class="hljs-function">split</span>( /,/, <span class="hljs-type">$string</span> );</code></pre>

<p>Join the items of an array into a string:</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">@names</span>  = ( &quot;<span class="hljs-string">John</span>&quot;, &quot;<span class="hljs-string">Fred</span>&quot;, &quot;<span class="hljs-string">Carl</span>&quot;, &quot;<span class="hljs-string">Lewis</span>&quot; );
⁠<span class="hljs-keyword">my</span> <span class="hljs-type">$string</span> = <span class="hljs-function">join</span>( &quot;<span class="hljs-string">,</span>&quot;, <span class="hljs-type">@names</span> );                <span class="hljs-comment"># -&gt; John,Fred,Carl,Lewis</span></code></pre>

<p>If you want to iterate over an array, do it like this:</p>

<pre><code class="hljs">⁠for <span class="hljs-keyword">my</span> <span class="hljs-type">$name</span> (<span class="hljs-type">@names</span>) {
⁠  say &quot;<span class="hljs-string">Current name: </span><span class="hljs-type">$name</span>&quot;;
⁠}</code></pre>

<h3 id="hashvariables">Hash variables</h3>

<p>Hashes are like arrays, but with named indexes, called keys.</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">%person</span> = (
⁠  name =&gt; &quot;<span class="hljs-string">John</span>&quot;,
⁠  age  =&gt; <span class="hljs-number">28</span>,
⁠  city =&gt; &quot;<span class="hljs-string">New York</span>&quot;
⁠);</code></pre>

<p>To access a hash element you have to use its key:</p>

<pre><code class="hljs">⁠say &quot;<span class="hljs-string">Name: </span>&quot; . <span class="hljs-type">$person</span>{&quot;<span class="hljs-string">name</span>&quot;};
⁠say &quot;<span class="hljs-string">Age: </span>&quot; . <span class="hljs-type">$person</span>{&quot;<span class="hljs-string">age</span>&quot;};
⁠say &quot;<span class="hljs-string">City: </span>&quot; . <span class="hljs-type">$person</span>{&quot;<span class="hljs-string">city</span>&quot;};</code></pre>

<p>If you want to iterate over a hash, do it like this:</p>

<pre><code class="hljs">⁠<span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> <span class="hljs-type">$key</span> ( <span class="hljs-function">keys</span> <span class="hljs-type">%person</span> ) {
⁠  say &quot;<span class="hljs-string">key: </span><span class="hljs-type">$key</span><span class="hljs-string"> -&gt; value: </span>&quot; . <span class="hljs-type">$person</span>{<span class="hljs-type">$key</span>};
⁠}</code></pre>

<p>But remember an important note: hashes are always unsorted.</p>

<h2 id="conditionalstatements">Conditional statements</h2>

<pre><code class="hljs">⁠<span class="hljs-keyword">if</span> ( <span class="hljs-type">$name</span> eq &quot;<span class="hljs-string">John</span>&quot; ) {
⁠  say &quot;<span class="hljs-string">Hello, my name is John!</span>&quot;;
⁠}
⁠<span class="hljs-keyword">else</span> {
⁠  say &quot;<span class="hljs-string">Well, my name is not John...</span>&quot;;
⁠}
⁠
⁠<span class="hljs-keyword">if</span> ( <span class="hljs-type">$name</span> ne &quot;<span class="hljs-string">John</span>&quot; ) {
⁠  say &quot;<span class="hljs-string">Yes, my name is NOT John...</span>&quot;;
⁠}
⁠<span class="hljs-keyword">else</span> {
⁠  say &quot;<span class="hljs-string">Hello, my name is John!</span>&quot;;
⁠}
⁠
⁠<span class="hljs-keyword">if</span> ( <span class="hljs-type">$age</span> &lt; <span class="hljs-number">30</span> ) {
⁠  say &quot;<span class="hljs-string">I&#39;m younger than 30.</span>&quot;;
⁠}
⁠<span class="hljs-keyword">elsif</span> ( <span class="hljs-type">$age</span> &gt;= <span class="hljs-number">30</span> &amp;&amp; <span class="hljs-type">$age</span> &lt;= <span class="hljs-number">50</span> ) {
⁠  say &quot;<span class="hljs-string">Well, I&#39;m between 30 and 50.</span>&quot;;
⁠}
⁠<span class="hljs-keyword">else</span> {
⁠  say &quot;<span class="hljs-string">I&#39;m older than 50.</span>&quot;;
⁠}</code></pre>

<h2 id="loops">Loops</h2>

<pre><code class="hljs">⁠<span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> <span class="hljs-type">$num</span> ( <span class="hljs-number">1</span> .. <span class="hljs-number">5</span> ) {
⁠  say &quot;<span class="hljs-string">&gt; </span><span class="hljs-type">$num</span>&quot;;
⁠}
⁠
⁠<span class="hljs-comment"># looping over an array</span><span class="hljs-comment">
⁠</span><span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> <span class="hljs-type">$item</span> (<span class="hljs-type">@array</span>) {
⁠  say &quot;<span class="hljs-string">&gt; </span><span class="hljs-type">$item</span>&quot;;
⁠}</code></pre>

<h2 id="regularexpressions">Regular expressions</h2>

<pre><code class="hljs">⁠<span class="hljs-keyword">my</span> <span class="hljs-type">$name</span> = &quot;<span class="hljs-string">John</span>&quot;;
⁠<span class="hljs-keyword">if</span> ( <span class="hljs-type">$name</span> =~ m/john/ ) { <span class="hljs-comment"># will not match, because the &quot;J&quot; in $name is uppercase</span><span class="hljs-comment">
⁠</span>}
⁠
⁠<span class="hljs-keyword">if</span> ( <span class="hljs-type">$name</span> =~ m/john/i ) { <span class="hljs-comment"># _will_ match, because we use the &quot;i&quot; modifier for case-insensitive matching</span><span class="hljs-comment">
⁠</span>}
⁠
⁠<span class="hljs-type">$name</span> =~ s/john/<span class="hljs-string">Fred</span>/i; <span class="hljs-comment"># this will replace the first match of &quot;john&quot; (regardless of its case) with &quot;Fred&quot;</span><span class="hljs-comment">
⁠</span><span class="hljs-type">$name</span> =~ s/john/<span class="hljs-string">Fred</span>/ig; <span class="hljs-comment"># this will replace all matches of &quot;john&quot; (regardless of its case) with &quot;Fred&quot;</span></code></pre>

<h2 id="functions">Functions</h2>

<pre><code class="hljs">⁠<span class="hljs-keyword">sub </span><span class="hljs-function">my_function</span> { <span class="hljs-comment"># define the function called &quot;my_function&quot;</span><span class="hljs-comment">
⁠</span>}
⁠
⁠<span class="hljs-keyword">sub </span><span class="hljs-function">my_function2</span> { <span class="hljs-comment"># define the function called &quot;my_function2&quot;</span><span class="hljs-comment">
⁠</span>  <span class="hljs-keyword">my</span> <span class="hljs-type">$param1</span> = <span class="hljs-variable">$_</span>[0]; <span class="hljs-comment"># get the 1st parameter and save it in $param1</span><span class="hljs-comment">
⁠</span>  <span class="hljs-keyword">my</span> <span class="hljs-type">$param2</span> = <span class="hljs-variable">$_</span>[<span class="hljs-number">1</span>]; <span class="hljs-comment"># get the 2nd parameter and save it in $param2</span><span class="hljs-comment">
⁠</span>  <span class="hljs-keyword">my</span> <span class="hljs-type">$param3</span> = <span class="hljs-variable">$_</span>[<span class="hljs-number">2</span>]; <span class="hljs-comment"># get the 3rd parameter and save it in $param3</span><span class="hljs-comment">
⁠</span>}
⁠
⁠<span class="hljs-keyword">sub </span><span class="hljs-function">my_function3</span> {
⁠  <span class="hljs-keyword">my</span> ( <span class="hljs-type">$param1</span>, <span class="hljs-type">$param2</span>, <span class="hljs-type">$param3</span> ) = <span class="hljs-type">@_</span>; <span class="hljs-comment"># the same as above in &quot;my_function2&quot;</span><span class="hljs-comment">
⁠</span>}
⁠
⁠my_function();                           <span class="hljs-comment"># call the function &quot;my_function&quot;</span><span class="hljs-comment">
⁠</span>my_function;                             <span class="hljs-comment"># also calls &quot;my_function&quot;</span><span class="hljs-comment">
⁠</span>&amp;my_function;                            <span class="hljs-comment"># also calls &quot;my_function&quot;</span><span class="hljs-comment">
⁠</span>my_function( &quot;<span class="hljs-string">john</span>&quot;, <span class="hljs-number">28</span> );               <span class="hljs-comment"># call &quot;my_function&quot; with 2 parameters</span><span class="hljs-comment">
⁠</span>my_function &quot;<span class="hljs-string">john</span>&quot;, <span class="hljs-number">28</span>; <span class="hljs-comment"># also calls &quot;my_function&quot; with 2 parameters: the brackets are not needed</span></code></pre>

<h2 id="usefulhelpers">Useful helpers</h2>

<p>Dump the content of a scalar, array or hash</p>

<pre><code class="hljs">⁠use <span class="hljs-function">Data::Dumper</span>;
⁠say Dumper(<span class="hljs-type">$scalar</span>);
⁠say Dumper(<span class="hljs-type">@array</span>);
⁠say Dumper(<span class="hljs-type">%hash</span>);</code></pre>

<h2 id="moredocumentation">More Documentation</h2>

<p>If you want to learn more Perl you can find a great online tutorial on <a href="http://perlmaven.com/perl-tutorial">Perl Maven</a>.</p>



            </div>
         </div> <!-- content -->

       <!-- page -->


   <div class="clearfix"></div>
   <div class="bottom_bar">
      <a href="https://groups.google.com/group/rex-users/">Google Group</a> / <a href="http://twitter.com/RexOps">Twitter</a> / <a href="https://github.com/RexOps/Rex">GitHub</a> / <a href="http://www.freelists.org/list/rex-users">Mailinglist</a> / <a href="irc://irc.freenode.net/rex">irc.freenode.net #rex</a>   -.ô.-   <a href="http://www.disclaimer.de/disclaimer.htm" target="_blank">Disclaimer</a>
   </div>

   </body>

</html>
